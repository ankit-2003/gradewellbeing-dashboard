<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Child Wellbeing Report</title>
<link href="https://fonts.googleapis.com/css2?family=Playfair+Display:wght@400;600;700&family=DM+Sans:wght@300;400;500;600&display=swap" rel="stylesheet">
<style>
  :root {
    --cream: #FDF8F2;
    --warm-bg: #FBF4EA;
    --text-dark: #2C2416;
    --text-mid: #5C4E38;
    --text-light: #9B8A72;
    --accent-gold: #D4A85A;
    --emotional: #F4845F;
    --behavioral: #7CBFE8;
    --physical: #6DBF9E;
    --academic: #B88FD8;
    --nutritional: #F0C05A;
    --digital: #5BA8D8;
    --safety: #E87B8C;
    --card-shadow: 0 8px 40px rgba(44,36,22,0.08);
    --radius: 24px;
  }

  * { margin: 0; padding: 0; box-sizing: border-box; }

  body {
    background: var(--warm-bg);
    font-family: 'DM Sans', sans-serif;
    color: var(--text-dark);
    min-height: 100vh;
    overflow-x: hidden;
  }

  /* Decorative background blobs */
  body::before {
    content: '';
    position: fixed;
    top: -200px; right: -200px;
    width: 600px; height: 600px;
    background: radial-gradient(circle, rgba(212,168,90,0.12) 0%, transparent 70%);
    border-radius: 50%;
    pointer-events: none;
    z-index: 0;
  }
  body::after {
    content: '';
    position: fixed;
    bottom: -200px; left: -200px;
    width: 500px; height: 500px;
    background: radial-gradient(circle, rgba(109,191,158,0.12) 0%, transparent 70%);
    border-radius: 50%;
    pointer-events: none;
    z-index: 0;
  }

  .container {
    max-width: 900px;
    margin: 0 auto;
    padding: 40px 20px 80px;
    position: relative;
    z-index: 1;
  }

  /* Header */
  .report-header {
    text-align: center;
    margin-bottom: 48px;
    animation: fadeUp 0.8s ease both;
  }
  .logo-badge {
    display: inline-flex;
    align-items: center;
    gap: 8px;
    background: white;
    border: 1px solid rgba(212,168,90,0.3);
    border-radius: 50px;
    padding: 8px 20px;
    font-size: 13px;
    font-weight: 500;
    color: var(--text-mid);
    letter-spacing: 0.05em;
    margin-bottom: 24px;
  }
  .logo-badge span { font-size: 16px; }
  .report-header h1 {
    font-family: 'Playfair Display', serif;
    font-size: clamp(32px, 5vw, 52px);
    font-weight: 700;
    color: var(--text-dark);
    line-height: 1.15;
    margin-bottom: 12px;
  }
  .report-header h1 em {
    font-style: italic;
    color: var(--accent-gold);
  }
  .report-meta {
    font-size: 14px;
    color: var(--text-light);
    font-weight: 400;
  }
  .student-name {
    font-weight: 600;
    color: var(--text-mid);
    font-size: 15px;
  }

  /* Overall Score Card */
  .overall-card {
    background: white;
    border-radius: var(--radius);
    padding: 40px;
    box-shadow: var(--card-shadow);
    margin-bottom: 32px;
    display: grid;
    grid-template-columns: 1fr auto;
    gap: 32px;
    align-items: center;
    animation: fadeUp 0.8s 0.1s ease both;
    position: relative;
    overflow: hidden;
  }
  .overall-card::before {
    content: '';
    position: absolute;
    top: 0; left: 0; right: 0;
    height: 4px;
    background: linear-gradient(90deg, var(--emotional), var(--nutritional), var(--physical), var(--digital));
  }
  .overall-label {
    font-size: 11px;
    font-weight: 600;
    letter-spacing: 0.12em;
    text-transform: uppercase;
    color: var(--text-light);
    margin-bottom: 8px;
  }
  .overall-title {
    font-family: 'Playfair Display', serif;
    font-size: 28px;
    font-weight: 600;
    margin-bottom: 16px;
  }
  .status-badge {
    display: inline-flex;
    align-items: center;
    gap: 6px;
    padding: 6px 16px;
    border-radius: 50px;
    font-size: 13px;
    font-weight: 600;
    margin-bottom: 16px;
  }
  .status-good { background: #E8F7F0; color: #2D9E6B; }
  .status-moderate { background: #FEF5E4; color: #B87A1A; }
  .status-concern { background: #FEE8E8; color: #C0392B; }

  .overall-desc {
    font-size: 14px;
    color: var(--text-mid);
    line-height: 1.7;
    max-width: 480px;
  }

  /* Circular Score */
  .score-ring-wrap {
    display: flex;
    flex-direction: column;
    align-items: center;
    gap: 8px;
  }
  .score-ring {
    position: relative;
    width: 140px;
    height: 140px;
  }
  .score-ring svg {
    transform: rotate(-90deg);
    width: 140px; height: 140px;
  }
  .score-ring-bg { fill: none; stroke: #F0EBE3; stroke-width: 10; }
  .score-ring-fill {
    fill: none;
    stroke-width: 10;
    stroke-linecap: round;
    stroke-dasharray: 377;
    stroke-dashoffset: 377;
    stroke: url(#scoreGrad);
    transition: stroke-dashoffset 1.5s cubic-bezier(0.4,0,0.2,1);
  }
  .score-center {
    position: absolute;
    inset: 0;
    display: flex;
    flex-direction: column;
    align-items: center;
    justify-content: center;
  }
  .score-number {
    font-family: 'Playfair Display', serif;
    font-size: 38px;
    font-weight: 700;
    color: var(--text-dark);
    line-height: 1;
  }
  .score-unit {
    font-size: 13px;
    color: var(--text-light);
    font-weight: 500;
  }
  .score-label {
    font-size: 12px;
    color: var(--text-light);
    font-weight: 500;
    text-align: center;
    letter-spacing: 0.04em;
  }

  /* Spider Chart */
  .chart-card {
    background: white;
    border-radius: var(--radius);
    padding: 40px;
    box-shadow: var(--card-shadow);
    margin-bottom: 32px;
    animation: fadeUp 0.8s 0.2s ease both;
  }
  .section-title {
    font-family: 'Playfair Display', serif;
    font-size: 22px;
    font-weight: 600;
    margin-bottom: 6px;
  }
  .section-sub {
    font-size: 13px;
    color: var(--text-light);
    margin-bottom: 32px;
  }

  .chart-container {
    display: flex;
    align-items: center;
    justify-content: center;
    gap: 48px;
    flex-wrap: wrap;
  }

  .spider-wrap {
    position: relative;
  }
  .spider-wrap svg {
    overflow: visible;
  }

  /* Legend */
  .chart-legend {
    display: flex;
    flex-direction: column;
    gap: 14px;
    min-width: 200px;
  }
  .legend-item {
    display: flex;
    align-items: center;
    gap: 12px;
    cursor: pointer;
    transition: opacity 0.2s;
  }
  .legend-item:hover { opacity: 0.75; }
  .legend-dot {
    width: 12px; height: 12px;
    border-radius: 50%;
    flex-shrink: 0;
  }
  .legend-info { flex: 1; }
  .legend-name {
    font-size: 13px;
    font-weight: 500;
    color: var(--text-dark);
  }
  .legend-bar-wrap {
    height: 4px;
    background: #F0EBE3;
    border-radius: 2px;
    margin-top: 4px;
    overflow: hidden;
  }
  .legend-bar {
    height: 100%;
    border-radius: 2px;
    transition: width 1.2s cubic-bezier(0.4,0,0.2,1);
  }
  .legend-score {
    font-size: 13px;
    font-weight: 600;
    color: var(--text-mid);
    min-width: 30px;
    text-align: right;
  }

  /* Parameter Cards */
  .params-grid {
    display: grid;
    grid-template-columns: repeat(auto-fill, minmax(260px, 1fr));
    gap: 20px;
    margin-bottom: 32px;
  }
  .param-card {
    background: white;
    border-radius: 20px;
    padding: 28px;
    box-shadow: var(--card-shadow);
    position: relative;
    overflow: hidden;
    animation: fadeUp 0.8s ease both;
    cursor: pointer;
    transition: transform 0.2s, box-shadow 0.2s;
  }
  .param-card:hover {
    transform: translateY(-3px);
    box-shadow: 0 16px 48px rgba(44,36,22,0.12);
  }
  .param-card::after {
    content: '';
    position: absolute;
    bottom: 0; left: 0; right: 0;
    height: 3px;
    border-radius: 0 0 20px 20px;
  }
  .param-icon {
    font-size: 28px;
    margin-bottom: 14px;
    display: block;
  }
  .param-name {
    font-size: 11px;
    font-weight: 600;
    letter-spacing: 0.1em;
    text-transform: uppercase;
    color: var(--text-light);
    margin-bottom: 4px;
  }
  .param-score-row {
    display: flex;
    align-items: baseline;
    gap: 4px;
    margin-bottom: 12px;
  }
  .param-score {
    font-family: 'Playfair Display', serif;
    font-size: 36px;
    font-weight: 700;
  }
  .param-max { font-size: 14px; color: var(--text-light); }
  .param-status {
    font-size: 12px;
    font-weight: 600;
    padding: 3px 10px;
    border-radius: 20px;
    display: inline-block;
    margin-bottom: 14px;
  }
  .param-bar-bg {
    height: 6px;
    background: #F0EBE3;
    border-radius: 3px;
    overflow: hidden;
  }
  .param-bar {
    height: 100%;
    border-radius: 3px;
    width: 0;
    transition: width 1.4s cubic-bezier(0.4,0,0.2,1);
  }
  .param-insight {
    margin-top: 14px;
    font-size: 12px;
    color: var(--text-mid);
    line-height: 1.6;
    border-top: 1px solid #F0EBE3;
    padding-top: 12px;
  }

  /* Recommendations */
  .reco-card {
    background: white;
    border-radius: var(--radius);
    padding: 40px;
    box-shadow: var(--card-shadow);
    animation: fadeUp 0.8s 0.4s ease both;
  }
  .reco-grid {
    display: grid;
    grid-template-columns: 1fr 1fr;
    gap: 16px;
    margin-top: 24px;
  }
  @media(max-width: 600px) {
    .reco-grid { grid-template-columns: 1fr; }
    .overall-card { grid-template-columns: 1fr; }
  }
  .reco-item {
    background: var(--warm-bg);
    border-radius: 16px;
    padding: 20px;
    display: flex;
    gap: 14px;
    align-items: flex-start;
  }
  .reco-emoji { font-size: 22px; flex-shrink: 0; margin-top: 2px; }
  .reco-title {
    font-weight: 600;
    font-size: 14px;
    margin-bottom: 4px;
  }
  .reco-text {
    font-size: 13px;
    color: var(--text-mid);
    line-height: 1.6;
  }

  /* Next Steps */
  .next-card {
    background: linear-gradient(135deg, #2C2416 0%, #4A3B26 100%);
    border-radius: var(--radius);
    padding: 40px;
    margin-top: 24px;
    color: white;
    display: flex;
    align-items: center;
    justify-content: space-between;
    gap: 24px;
    flex-wrap: wrap;
    animation: fadeUp 0.8s 0.5s ease both;
  }
  .next-text h3 {
    font-family: 'Playfair Display', serif;
    font-size: 22px;
    margin-bottom: 8px;
  }
  .next-text p {
    font-size: 14px;
    opacity: 0.7;
    line-height: 1.6;
    max-width: 400px;
  }
  .next-btn {
    background: var(--accent-gold);
    color: #2C2416;
    border: none;
    padding: 14px 28px;
    border-radius: 50px;
    font-family: 'DM Sans', sans-serif;
    font-weight: 600;
    font-size: 14px;
    cursor: pointer;
    transition: transform 0.2s, box-shadow 0.2s;
    white-space: nowrap;
  }
  .next-btn:hover {
    transform: translateY(-2px);
    box-shadow: 0 8px 24px rgba(212,168,90,0.4);
  }

  /* Animations */
  @keyframes fadeUp {
    from { opacity: 0; transform: translateY(24px); }
    to { opacity: 1; transform: translateY(0); }
  }

  /* Tooltip */
  .tooltip {
    position: absolute;
    background: var(--text-dark);
    color: white;
    padding: 8px 14px;
    border-radius: 10px;
    font-size: 12px;
    font-weight: 500;
    pointer-events: none;
    opacity: 0;
    transition: opacity 0.2s;
    white-space: nowrap;
    z-index: 100;
  }

  .divider {
    border: none;
    border-top: 1px solid rgba(44,36,22,0.07);
    margin: 40px 0;
  }

  .footer-note {
    text-align: center;
    font-size: 12px;
    color: var(--text-light);
    line-height: 1.7;
    animation: fadeUp 0.8s 0.6s ease both;
  }
</style>
</head>
<body>

<div class="container">

  <!-- Header -->
  <div class="report-header">
    <div class="logo-badge">
      <span>üå±</span>
      Annual Health & Performance Evaluation
    </div>
    <h1>Your Child's<br><em>Wellbeing Report</em></h1>
    <div class="report-meta">Academic Year 2024‚Äì25 &nbsp;¬∑&nbsp; Prepared for <span class="student-name">Aryan Sharma's Parents</span></div>
  </div>

  <!-- Overall Score -->
  <div class="overall-card">
    <div>
      <div class="overall-label">Overall Wellbeing Index</div>
      <div class="overall-title">Aryan is doing <em style="font-style:italic;color:var(--accent-gold)">well</em> overall üåü</div>
      <div class="status-badge status-good">‚óè Good Standing</div>
      <p class="overall-desc">
        Aryan shows strong emotional resilience and healthy academic engagement. A few areas like digital habits and nutritional balance would benefit from gentle attention. This report is a starting point ‚Äî not a diagnosis.
      </p>
    </div>
    <div class="score-ring-wrap">
      <div class="score-ring">
        <svg viewBox="0 0 140 140">
          <defs>
            <linearGradient id="scoreGrad" x1="0%" y1="0%" x2="100%" y2="0%">
              <stop offset="0%" stop-color="#F4845F"/>
              <stop offset="100%" stop-color="#6DBF9E"/>
            </linearGradient>
          </defs>
          <circle class="score-ring-bg" cx="70" cy="70" r="60"/>
          <circle class="score-ring-fill" id="mainRing" cx="70" cy="70" r="60"/>
        </svg>
        <div class="score-center">
          <div class="score-number" id="overallNum">0</div>
          <div class="score-unit">/ 100</div>
        </div>
      </div>
      <div class="score-label">Wellbeing<br>Index</div>
    </div>
  </div>

  <!-- Spider Chart -->
  <div class="chart-card">
    <div class="section-title">7-Factor Wellbeing Map</div>
    <div class="section-sub">Each axis represents one dimension. The shaded area shows your child's profile.</div>
    <div class="chart-container">
      <div class="spider-wrap">
        <svg id="spiderChart" width="340" height="340" viewBox="0 0 340 340"></svg>
      </div>
      <div class="chart-legend" id="chartLegend"></div>
    </div>
  </div>

  <!-- Parameter Cards -->
  <div class="params-grid" id="paramsGrid"></div>

  <!-- Recommendations -->
  <div class="reco-card">
    <div class="section-title">üîç Actionable Insights for You</div>
    <div class="section-sub">Based on the responses, here's what you can explore together as a family.</div>
    <div class="reco-grid" id="recoGrid"></div>
  </div>

  <!-- Next Steps -->
  <div class="next-card">
    <div class="next-text">
      <h3>Ready for a deeper conversation?</h3>
      <p>Our school counselor and wellbeing team will review this report and reach out to schedule a one-on-one session with you and Aryan.</p>
    </div>
    <button class="next-btn">Schedule a Session ‚Üí</button>
  </div>

  <hr class="divider">
  <div class="footer-note">
    This report is generated based on parent-submitted evaluation data and is intended as a <strong>supportive guide</strong>, not a clinical assessment.<br>
    For concerns, please reach out to your child's wellbeing coordinator. &nbsp;¬∑&nbsp; <strong>Confidential & Secure</strong>
  </div>

</div>

<div class="tooltip" id="tooltip"></div>

<script>
// ‚îÄ‚îÄ DATA ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ
// Scores are out of 100 for each parameter (set by scoring algorithm)
const params = [
  {
    id: 'emotional',
    name: 'Emotional',
    icon: 'üíõ',
    color: '#F4845F',
    score: 72,
    status: 'Good',
    statusClass: 'status-good',
    insight: 'Child often seems happy with occasional moments of worry around academics. Emotions are generally well-regulated.',
    reco: { emoji: 'üíõ', title: 'Emotional Check-ins', text: 'Try a daily 5-minute "feelings check-in" at dinner. Naming emotions builds resilience.' }
  },
  {
    id: 'behavioral',
    name: 'Behavioral',
    icon: 'ü§ù',
    color: '#7CBFE8',
    score: 80,
    status: 'Strong',
    statusClass: 'status-good',
    insight: 'Generally cooperative at home and sociable with peers. No repetitive behaviors observed.',
    reco: { emoji: 'ü§ù', title: 'Social Opportunities', text: 'Encourage structured group activities ‚Äî team sports or clubs help reinforce positive social patterns.' }
  },
  {
    id: 'physical',
    name: 'Physical',
    icon: 'üèÉ',
    color: '#6DBF9E',
    score: 68,
    status: 'Average',
    statusClass: 'status-moderate',
    insight: 'Physical activity is occasional rather than daily. Sleep quality could be improved ‚Äî occasional difficulties noted.',
    reco: { emoji: 'üèÉ', title: 'Movement Routine', text: 'Aim for at least 30 minutes of outdoor play daily. A consistent bedtime (even on weekends) improves sleep quality.' }
  },
  {
    id: 'academic',
    name: 'Academic',
    icon: 'üìö',
    color: '#B88FD8',
    score: 75,
    status: 'Good',
    statusClass: 'status-good',
    insight: 'Performance is in the 70‚Äì80% range. Parents feel the child may not be fully reaching potential. Career planning conversations are beginning.',
    reco: { emoji: 'üìö', title: 'Potential Unlocking', text: 'Have an open conversation about learning styles ‚Äî what excites Aryan? Intrinsic motivation outperforms pressure.' }
  },
  {
    id: 'nutritional',
    name: 'Nutritional',
    icon: 'ü•ó',
    color: '#F0C05A',
    score: 58,
    status: 'Needs Attention',
    statusClass: 'status-concern',
    insight: 'Preference for junk food is frequent. Appetite is healthy but nutritional balance may be lacking.',
    reco: { emoji: 'ü•ó', title: 'Meal Involvement', text: 'Involve Aryan in grocery shopping or cooking once a week. Children eat healthier when they help prepare food.' }
  },
  {
    id: 'digital',
    name: 'Digital',
    icon: 'üì±',
    color: '#5BA8D8',
    score: 48,
    status: 'Needs Attention',
    statusClass: 'status-concern',
    insight: 'Screen time exceeds 4 hours on some days. Rules exist but aren\'t consistently followed. Device use during meals/sleep noted.',
    reco: { emoji: 'üì±', title: 'Digital Boundaries', text: 'Create "device-free zones" (dinner table, bedroom after 9pm). Use a shared family screen time tracker app.' }
  },
  {
    id: 'safety',
    name: 'Safety & Env.',
    icon: 'üõ°Ô∏è',
    color: '#E87B8C',
    score: 88,
    status: 'Strong',
    statusClass: 'status-good',
    insight: 'Child feels safe at home, school and community. Open communication with trusted adults is present. No concerning observations.',
    reco: { emoji: 'üõ°Ô∏è', title: 'Keep Lines Open', text: 'Continue your open communication ‚Äî it\'s a real strength. Periodically revisit body safety conversations in an age-appropriate way.' }
  }
];

const overallScore = Math.round(params.reduce((s, p) => s + p.score, 0) / params.length);

// ‚îÄ‚îÄ OVERALL RING ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ
function animateValue(el, to, duration) {
  let start = 0;
  const step = timestamp => {
    if (!start) start = timestamp;
    const progress = Math.min((timestamp - start) / duration, 1);
    el.textContent = Math.round(progress * to);
    if (progress < 1) requestAnimationFrame(step);
  };
  requestAnimationFrame(step);
}

setTimeout(() => {
  const ring = document.getElementById('mainRing');
  const circumference = 377;
  const offset = circumference - (overallScore / 100) * circumference;
  ring.style.strokeDashoffset = offset;
  animateValue(document.getElementById('overallNum'), overallScore, 1500);
}, 300);

// ‚îÄ‚îÄ SPIDER CHART ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ
function drawSpider() {
  const svg = document.getElementById('spiderChart');
  const cx = 170, cy = 170, r = 130, n = params.length;
  const levels = 5;
  const NS = 'http://www.w3.org/2000/svg';

  // Background levels
  for (let l = 1; l <= levels; l++) {
    const pts = params.map((_, i) => {
      const angle = (i / n) * 2 * Math.PI - Math.PI / 2;
      const rad = (l / levels) * r;
      return `${cx + rad * Math.cos(angle)},${cy + rad * Math.sin(angle)}`;
    }).join(' ');
    const poly = document.createElementNS(NS, 'polygon');
    poly.setAttribute('points', pts);
    poly.setAttribute('fill', 'none');
    poly.setAttribute('stroke', '#F0EBE3');
    poly.setAttribute('stroke-width', '1.5');
    svg.appendChild(poly);
  }

  // Axes
  params.forEach((p, i) => {
    const angle = (i / n) * 2 * Math.PI - Math.PI / 2;
    const line = document.createElementNS(NS, 'line');
    line.setAttribute('x1', cx); line.setAttribute('y1', cy);
    line.setAttribute('x2', cx + r * Math.cos(angle));
    line.setAttribute('y2', cy + r * Math.sin(angle));
    line.setAttribute('stroke', '#E8E0D4');
    line.setAttribute('stroke-width', '1');
    svg.appendChild(line);

    // Labels
    const lx = cx + (r + 22) * Math.cos(angle);
    const ly = cy + (r + 22) * Math.sin(angle);
    const text = document.createElementNS(NS, 'text');
    text.setAttribute('x', lx); text.setAttribute('y', ly);
    text.setAttribute('text-anchor', 'middle');
    text.setAttribute('dominant-baseline', 'middle');
    text.setAttribute('font-size', '11');
    text.setAttribute('font-weight', '600');
    text.setAttribute('fill', p.color);
    text.setAttribute('font-family', 'DM Sans, sans-serif');
    text.textContent = p.icon + ' ' + p.name;
    svg.appendChild(text);
  });

  // Data polygon (animated)
  const dataPoints = params.map((p, i) => {
    const angle = (i / n) * 2 * Math.PI - Math.PI / 2;
    const rad = (p.score / 100) * r;
    return { x: cx + rad * Math.cos(angle), y: cy + rad * Math.sin(angle), p };
  });

  const pts = dataPoints.map(d => `${d.x},${d.y}`).join(' ');
  const fill = document.createElementNS(NS, 'polygon');
  fill.setAttribute('points', pts);
  fill.setAttribute('fill', 'rgba(212,168,90,0.15)');
  fill.setAttribute('stroke', '#D4A85A');
  fill.setAttribute('stroke-width', '2');
  fill.setAttribute('stroke-linejoin', 'round');
  fill.style.opacity = '0';
  fill.style.transition = 'opacity 0.6s ease';
  svg.appendChild(fill);

  // Data points (dots)
  dataPoints.forEach((d, i) => {
    const circle = document.createElementNS(NS, 'circle');
    circle.setAttribute('cx', d.x); circle.setAttribute('cy', d.y);
    circle.setAttribute('r', '5');
    circle.setAttribute('fill', d.p.color);
    circle.setAttribute('stroke', 'white');
    circle.setAttribute('stroke-width', '2');
    circle.style.cursor = 'pointer';
    circle.addEventListener('mouseenter', e => {
      const tip = document.getElementById('tooltip');
      tip.textContent = `${d.p.name}: ${d.p.score}/100`;
      tip.style.opacity = 1;
      tip.style.left = (e.pageX + 10) + 'px';
      tip.style.top = (e.pageY - 30) + 'px';
    });
    circle.addEventListener('mouseleave', () => {
      document.getElementById('tooltip').style.opacity = 0;
    });
    svg.appendChild(circle);
  });

  setTimeout(() => { fill.style.opacity = 1; }, 400);
}

// ‚îÄ‚îÄ LEGEND ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ
function buildLegend() {
  const container = document.getElementById('chartLegend');
  params.forEach(p => {
    const item = document.createElement('div');
    item.className = 'legend-item';
    item.innerHTML = `
      <div class="legend-dot" style="background:${p.color}"></div>
      <div class="legend-info">
        <div class="legend-name">${p.icon} ${p.name}</div>
        <div class="legend-bar-wrap">
          <div class="legend-bar" data-width="${p.score}" style="background:${p.color};width:0%"></div>
        </div>
      </div>
      <div class="legend-score">${p.score}</div>
    `;
    container.appendChild(item);
  });
  setTimeout(() => {
    document.querySelectorAll('.legend-bar').forEach(bar => {
      bar.style.width = bar.dataset.width + '%';
    });
  }, 500);
}

// ‚îÄ‚îÄ PARAM CARDS ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ
function buildParamCards() {
  const grid = document.getElementById('paramsGrid');
  params.forEach((p, idx) => {
    const card = document.createElement('div');
    card.className = 'param-card';
    card.style.animationDelay = (0.1 + idx * 0.07) + 's';
    card.innerHTML = `
      <span class="param-icon">${p.icon}</span>
      <div class="param-name">${p.name} Wellbeing</div>
      <div class="param-score-row">
        <span class="param-score" style="color:${p.color}">${p.score}</span>
        <span class="param-max">/ 100</span>
      </div>
      <div class="param-status" style="background:${p.color}22;color:${p.color}">${p.status}</div>
      <div class="param-bar-bg">
        <div class="param-bar" data-width="${p.score}" style="background:${p.color};width:0%"></div>
      </div>
      <div class="param-insight">${p.insight}</div>
    `;
    card.style.setProperty('--card-accent', p.color);
    const after = document.createElement('style');
    after.textContent = `.param-card:nth-child(${idx+1})::after { background: ${p.color}; }`;
    document.head.appendChild(after);
    grid.appendChild(card);
  });

  setTimeout(() => {
    document.querySelectorAll('.param-bar').forEach(bar => {
      bar.style.width = bar.dataset.width + '%';
    });
  }, 600);
}

// ‚îÄ‚îÄ RECOMMENDATIONS ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ
function buildRecos() {
  const grid = document.getElementById('recoGrid');
  params.forEach(p => {
    const item = document.createElement('div');
    item.className = 'reco-item';
    item.innerHTML = `
      <div class="reco-emoji">${p.reco.emoji}</div>
      <div>
        <div class="reco-title">${p.reco.title}</div>
        <div class="reco-text">${p.reco.text}</div>
      </div>
    `;
    grid.appendChild(item);
  });
}

// ‚îÄ‚îÄ INIT ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ
drawSpider();
buildLegend();
buildParamCards();
buildRecos();
</script>
</body>
</html>
